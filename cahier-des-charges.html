<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="stonycyber.png" rel="icon">
  <title>Cahier des Charges - STONY.TECHNOLOGIE</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Fira+Code:wght@300;500&family=Poppins:wght@300;400;600&display=swap');

    :root {
      --primary: #00bcd4;
      --bg-dark: #0a0e14;
      --card-bg: rgba(16, 22, 32, 0.95);
      --text: #e0e6ed;
      --input-bg: #05070a;
      --border: rgba(0, 188, 212, 0.2);
    }

    /* --- NOUVEAUX STYLES NAVIGATION --- */
    .nav-header {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 10px 20px;
      background: rgba(10, 14, 20, 0.8);
      backdrop-filter: blur(10px);
      z-index: 1200;
      border-bottom: 1px solid var(--primary);
      box-sizing: border-box;
    }
    
    .nav-links a {
      color: var(--primary);
      text-decoration: none;
      font-weight: 600;
      font-size: 0.9em;
      margin-right: 15px;
      font-family: 'Poppins', sans-serif;
    }

    /* Ajustement du bouton existant pour l'intÃ©grer au menu */
    .theme-toggle {
      position: static; /* Sort du flux fixed pour aller dans le flex du menu */
      background: var(--primary);
      color: #000;
      border: none;
      padding: 8px 15px;
      border-radius: 30px;
      cursor: pointer;
      font-weight: bold;
      box-shadow: 0 4px 15px rgba(0, 188, 212, 0.4);
      display: flex;
      align-items: center;
      gap: 8px;
    }

    /* Styles Mode Jour */
    body.light-mode {
      --bg-dark: #f0f4f8;
      --card-bg: rgba(255, 255, 255, 0.98);
      --text: #1a202c;
      --input-bg: #ffffff;
      --border: #cbd5e0;
    }

    body.light-mode .nav-header {
      background: rgba(240, 244, 248, 0.8);
    }

    /* Animation de fond (Code Stream) */
    .bg-animation {
      position: fixed;
      top: 0; left: 0; width: 100%; height: 100%;
      z-index: -1;
      overflow: hidden;
      background: var(--bg-dark);
      transition: background 0.3s ease;
    }

    .code-line {
      position: absolute;
      white-space: nowrap;
      font-family: 'Fira Code', monospace;
      font-size: 20px;
      color: var(--primary);
      opacity: 0.1;
      animation: moveLeft 15s linear infinite;
    }

    @keyframes moveLeft {
      from { transform: translateX(100vw); }
      to { transform: translateX(-100%); }
    }

    #progress-container {
      position: fixed;
      top: 55px; /* AjustÃ© sous la nav */
      left: 0; width: 100%; height: 6px;
      background: #05070a; z-index: 1001;
    }

    #progress-bar {
      width: 0%; height: 100%;
      background: linear-gradient(90deg, #00bcd4, #00e5ff);
      transition: width 0.3s ease;
      box-shadow: 0 0 10px #00bcd4;
    }

    .fade-in {
      opacity: 0;
      transform: translateY(20px);
      transition: opacity 0.6s ease-out, transform 0.6s ease-out;
    }

    .fade-in.visible {
      opacity: 1;
      transform: translateY(0);
    }

    body {
      font-family: 'Poppins', sans-serif;
      color: var(--text);
      margin: 0; padding: 80px 20px 40px; /* Padding top augmentÃ© pour la nav */
      display: flex; flex-direction: column; align-items: center;
      transition: color 0.3s ease;
    }

    .container {
      max-width: 900px; width: 100%;
      background: var(--card-bg);
      border: 1px solid var(--border);
      border-radius: 12px; padding: 40px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.5);
      box-sizing: border-box;
      backdrop-filter: blur(10px);
    }
    .tel-container, .budget-container { display: flex; gap: 10px; flex-wrap: wrap; }
    .tel-container select, .budget-container select { flex: 1; min-width: 120px; }
    .tel-container input, .budget-container input { flex: 3; min-width: 150px; }

    header {
      text-align: center; border-bottom: 2px solid var(--primary);
      margin-bottom: 30px; padding-bottom: 20px;
    }

    h1 { font-family: 'Fira Code', monospace; color: var(--primary); margin: 0; font-size: 1.8rem; }
    .subtitle { opacity: 0.8; font-size: 0.9rem; margin-top: 10px; }

    .section {
      background: rgba(128, 128, 128, 0.05);
      padding: 25px; border-radius: 8px;
      margin-bottom: 25px; border-left: 4px solid var(--primary);
    }

    h3 { margin-top: 0; color: var(--primary); font-size: 1.1rem; text-transform: uppercase; }
    label { display: block; margin: 15px 0 5px; font-weight: 500; color: var(--primary); }

    input, textarea, select {
      width: 100%; padding: 12px;
      background: var(--input-bg); border: 1px solid var(--border);
      border-radius: 5px; color: var(--text);
      font-size: 1rem; box-sizing: border-box;
    }

    .grid-options {
      display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 10px; margin-top: 10px;
    }

    .checkbox-item {
      display: flex; align-items: center;
      background: rgba(128,128,128,0.1);
      padding: 10px; border-radius: 5px; cursor: pointer; transition: 0.2s;
    }

    .checkbox-item:hover { background: rgba(0, 188, 212, 0.2); }
    .checkbox-item input { width: auto; margin-right: 10px; accent-color: var(--primary); }

    .priority-scale {
      display: flex; justify-content: space-between;
      max-width: 400px; margin: 10px 0;
    }

    .budget-container {
      display: flex;
      align-items: center;  
      gap: 10px;             
    }

    .budget-container input {
      flex: 1;     
    }

    .budget-container select {
      width: 120px;   
    }

    .other-input {
      margin-top: 10px; display: none;
      border-bottom: 1px solid var(--primary);
    }

    .submit-btn {
      background: var(--primary); color: #000;
      width: 100%; padding: 18px; border: none;
      border-radius: 6px; font-size: 1.1rem; font-weight: 700;
      cursor: pointer; text-transform: uppercase; transition: 0.3s;
    }

    #modal-overlay {
      display: none; position: fixed;
      top: 0; left: 0; width: 100%; height: 100%;
      background: rgba(0,0,0,0.85); backdrop-filter: blur(5px);
      z-index: 2000; justify-content: center; align-items: center;
    }

    .modal {
      background: var(--card-bg); border: 2px solid var(--primary);
      padding: 30px; border-radius: 15px; text-align: center;
      max-width: 400px; box-shadow: 0 0 20px var(--primary);
    }

    footer {
      text-align: center; margin-top: 50px; padding: 30px;
      width: 100%; color: var(--text); font-size: 0.9em;
      border-top: 1px solid var(--border);
    }

    @media (max-width: 600px) {
      .container { padding: 15px; }
      .nav-links a { font-size: 0.75rem; margin-right: 8px; }
      .theme-toggle { padding: 5px 10px; font-size: 0.7rem; }
    }
  </style>
</head>
<body>

<div class="bg-animation" id="bgAnim"></div>

<nav class="nav-header">
  <div class="nav-links">
    <a href="index.html">ğŸ  Accueil</a>
    <a href="devis.html">ğŸ“‘ Devis</a>
  </div>
  <button class="theme-toggle" onclick="toggleTheme()">
    <span id="theme-icon">â˜€ï¸</span> <span id="theme-text">Mode Jour</span>
  </button>
</nav>

<div id="progress-container">
  <div id="progress-bar"></div>
</div>

<div class="container fade-in">
  <header>
    <h1>CAHIER_DES_CHARGES </h1>
    <p class="subtitle">DÃ©veloppement de Site Web Professionnel - STONY.TECHNOLOGIE</p>
    <p style="font-size: 0.8rem; opacity: 0.6;">Merci d'Ãªtre aussi clair et dÃ©taillÃ© que possible.</p>
  </header>

  <form id="cdchForm" action="https://script.google.com/macros/s/AKfycbyLYUsA2QFQpiBAPbkUGSzMA-IXaOGMMTlAckQRCkO701okPNh7KTpWOHcznSXbJ5E_/exec" method="POST">
    <input type="hidden" name="security_token" value="STONY_2026_SECURE">
    <div class="section fade-in">
      <h3>ğŸ‘¤ PrÃ©sentation de l'entreprise</h3>
      <label>Nom / Raison sociale :</label>
      <input type="text" id="nom" name="nom" placeholder="Ex: Stony Sima" required>

      <label>Nom du Projet : *</label>
      <input type="text" name="titre_projet" placeholder="Quel est le titre de votre projet ?" required>

      <label>TÃ©lÃ©phone :</label>
        <div class="tel-container">
          <select name="indicatif" required>
            <option value="">ğŸŒ Pays ğŸ‘‡</option>
            <option value="+971">ğŸ‡¦ğŸ‡ª +971 (Ã‰mirats Arabes Unis)</option>
            <option value="+213">ğŸ‡©ğŸ‡¿ +213 (AlgÃ©rie)</option>
            <option value="+54">ğŸ‡¦ğŸ‡· +54 (Argentine)</option>
            <option value="+27">ğŸ‡¿ğŸ‡¦ +27 (Afrique du Sud)</option>
            <option value="+32">ğŸ‡§ğŸ‡ª +32 (Belgique)</option>
            <option value="+229">ğŸ‡§ğŸ‡¯ +229 (BÃ©nin)</option>
            <option value="+55">ğŸ‡§ğŸ‡· +55 (BrÃ©sil)</option>
            <option value="+226">ğŸ‡§ğŸ‡« +226 (Burkina Faso)</option>
            <option value="+237">ğŸ‡¨ğŸ‡² +237 (Cameroun)</option>
            <option value="+1">ğŸ‡¨ğŸ‡¦ +1 (Canada)</option>
            <option value="+236">ğŸ‡¨ğŸ‡« +236 (Centrafrique)</option>
            <option value="+86">ğŸ‡¨ğŸ‡³ +86 (Chine)</option>
            <option value="+242">ğŸ‡¨ğŸ‡¬ +242 (Congo - Brazzaville)</option>
            <option value="+243">ğŸ‡¨ğŸ‡© +243 (Congo - Kinshasa / RDC)</option>
            <option value="+225">ğŸ‡¨ğŸ‡® +225 (CÃ´te dâ€™Ivoire)</option>
            <option value="+49">ğŸ‡©ğŸ‡ª +49 (Allemagne)</option>
            <option value="+34">ğŸ‡ªğŸ‡¸ +34 (Espagne)</option>
            <option value="+33">ğŸ‡«ğŸ‡· +33 (France)</option>
            <option value="+241">ğŸ‡¬ğŸ‡¦ +241 (Gabon)</option>
            <option value="+233">ğŸ‡¬ğŸ‡­ +233 (Ghana)</option>
            <option value="+240">ğŸ‡¬ğŸ‡¶ +240 (GuinÃ©e Ã‰quatoriale)</option>
            <option value="+91">ğŸ‡®ğŸ‡³ +91 (Inde)</option>
            <option value="+39">ğŸ‡®ğŸ‡¹ +39 (Italie)</option>
            <option value="+81">ğŸ‡¯ğŸ‡µ +81 (Japon)</option>
            <option value="+223">ğŸ‡²ğŸ‡± +223 (Mali)</option>
            <option value="+212">ğŸ‡²ğŸ‡¦ +212 (Maroc)</option>
            <option value="+52">ğŸ‡²ğŸ‡½ +52 (Mexique)</option>
            <option value="+234">ğŸ‡³ğŸ‡¬ +234 (Nigeria)</option>
            <option value="+221">ğŸ‡¸ğŸ‡³ +221 (SÃ©nÃ©gal)</option>
            <option value="+41">ğŸ‡¨ğŸ‡­ +41 (Suisse)</option>
            <option value="+228">ğŸ‡¹ğŸ‡¬ +228 (Togo)</option>
            <option value="+216">ğŸ‡¹ğŸ‡³ +216 (Tunisie)</option>
            <option value="+90">ğŸ‡¹ğŸ‡· +90 (Turquie)</option>
            <option value="+44">ğŸ‡¬ğŸ‡§ +44 (Royaume-Uni)</option>
            <option value="+1">ğŸ‡ºğŸ‡¸ +1 (Ã‰tats-Unis)</option>
          </select>
          <input type="tel" name="telephone" placeholder="NumÃ©ro" required>
      </div>

      <label>Description du Projet : *</label>
      <textarea name="description" rows="5" placeholder="GenÃ¨se, attentes, vision du dÃ©roulÃ©..." required></textarea>
    </div>

    <div class="section fade-in">
      <h3>ğŸ¯ Objectifs & PrioritÃ©</h3>
      <label>Type de site souhaitÃ© : *</label>
        <div class="grid-options">
        <label class="checkbox-item"><input type="radio" name="prestation" value="E-commerce" required> Site e-commerce basique</label>
        <label class="checkbox-item"><input type="radio" name="prestation" value="Catalogue"> Site catalogue</label>
        <label class="checkbox-item"><input type="radio" name="prestation" value="Marketplace"> Marketplace</label>
        <label class="checkbox-item"><input type="radio" name="prestation" value="Abonnement"> Site d'abonnement</label>
        <label class="checkbox-item"><input type="radio" name="prestation" value="Vente Flash"> Site de vente</label>
        <label class="checkbox-item"><input type="radio" name="prestation" value="Reservation"> Site de rÃ©servation et Services</label>
        <label class="checkbox-item"><input type="radio" name="prestation" value="Prestations"> Site de prestations de services</label>
        <label class="checkbox-item"><input type="radio" name="prestation" value="CommandeServices"> Site de commande et services</label>
        <label class="checkbox-item"><input type="radio" name="prestation" value="Devis"> Site de devis en ligne</label>
        <label class="checkbox-item"><input type="radio" name="prestation" value="Professionnels"> Site de services professionnels</label>
        <label class="checkbox-item"><input type="radio" name="prestation" value="Freelance"> Site de freelances / prestations Ã  la demande</label>
        <label class="checkbox-item"><input type="radio" name="prestation" value="Vitrine"> Site vitrine / institutionnel</label>
        <label class="checkbox-item"><input type="radio" name="prestation" value="Blog"> Blog / Magazine en ligne</label>
        <label class="checkbox-item"><input type="radio" name="prestation" value="Portfolio"> Portfolio</label>
        <label class="checkbox-item"><input type="radio" name="prestation" value="Communautaire"> Site communautaire / forum</label>
        <label class="checkbox-item"><input type="radio" name="prestation" value="Educatif"> Site Ã©ducatif / e-learning</label>
        <label class="checkbox-item"><input type="radio" name="prestation" value="Associatif"> Site associatif / ONG</label>
        <label class="checkbox-item"><input type="radio" name="prestation" value="Media"> Site mÃ©dia / actualitÃ©s</label>
        <label class="checkbox-item"><input type="radio" name="prestation" value="Corporate"> Site corporate / intranet</label>
        <label class="checkbox-item"><input type="radio" name="prestation" value="Landing"> Landing page / one-page</label>
        <label class="checkbox-item"><input type="radio" name="prestation" value="Evenementiel"> Site Ã©vÃ©nementiel</label>
        <label class="checkbox-item"><input type="radio" name="prestation" value="Immobilier"> Site immobilier</label>
        <label class="checkbox-item"><input type="radio" name="prestation" value="Tourisme"> Site touristique / hÃ´telier</label>
        <label class="checkbox-item"><input type="radio" name="prestation" value="Culturel"> Site artistique / culturel</label>
        <label class="checkbox-item"><input type="radio" name="prestation" value="SaaS"> Site SaaS (application en ligne)</label>
        <label class="checkbox-item"><input type="radio" name="prestation" value="Autre" onclick="toggleOther('other_site')"> Autre</label>
        </div>
      <input type="text" id="other_site" name="prestation_autre" class="other-input" placeholder="PrÃ©cisez le type de site...">

      <label>Niveau de PrioritÃ© du Projet : *</label>
      <div style="display: flex; gap: 10px; align-items: center; font-size: 0.8rem;">
        <span>TrÃ¨s Ã©levÃ©e</span>
        <div class="priority-scale">
          <label><input type="radio" name="priorite" value="1" required> 1</label>
          <label><input type="radio" name="priorite" value="2"> 2</label>
          <label><input type="radio" name="priorite" value="3"> 3</label>
          <label><input type="radio" name="priorite" value="4"> 4</label>
          <label><input type="radio" name="priorite" value="5"> 5</label>
        </div>
        <span>TrÃ¨s basse</span>
      </div>
    </div>

    <div class="section fade-in">
      <h3>ğŸŒ Public & PortÃ©e</h3>
      <label>Quel est votre public cible ? *</label>
      <div class="grid-options">
        <label class="checkbox-item"><input type="checkbox" name="cible" value="Grand Public"> Grand public</label>
        <label class="checkbox-item"><input type="checkbox" name="cible" value="Employes Prives"> EmployÃ©s privÃ©s ğŸ•µ</label>
        <label class="checkbox-item"><input type="checkbox" name="cible" value="Employes Publics"> EmployÃ©s publics ğŸ•µ</label>
        <label class="checkbox-item"><input type="checkbox" name="cible" value="Fournisseurs"> Fournisseurs</label>
        <label class="checkbox-item"><input type="checkbox" name="cible" value="Actionnaires"> Actionnaires</label>
        <label class="checkbox-item"><input type="checkbox" name="cible" value="Partenaires"> Partenaires</label>
        <label class="checkbox-item"><input type="checkbox" name="cible" value="Etudiants"> Ã‰tudiants</label>
        <label class="checkbox-item"><input type="checkbox" name="cible" value="Autre" onclick="toggleOther('other_target')"> Autre</label>
      </div>
      <input type="text" id="other_target" name="cible_autre" class="other-input" placeholder="PrÃ©cisez votre public...">

      <label>PortÃ©e espÃ©rÃ©e :</label>
      <select name="mode">
        <option value="Locale">Locale</option>
        <option value="Nationale">Nationale</option>
        <option value="Internationale">Internationale</option>
      </select>
    </div>

    <div class="section fade-in">
      <h3>ğŸ› ï¸ FonctionnalitÃ©s & Contenus</h3>
      <label>FonctionnalitÃ©s essentielles :</label>
      <div class="grid-options">
        <label class="checkbox-item"><input type="checkbox" name="fonctions" value="Accueil"> Accueil</label>
        <label class="checkbox-item"><input type="checkbox" name="fonctions" value="Articles"> Les articles</label>
        <label class="checkbox-item"><input type="checkbox" name="fonctions" value="Temoignages"> TÃ©moignages</label>
        <label class="checkbox-item"><input type="checkbox" name="fonctions" value="A Propos"> Ã€ propos de nous</label>
        <label class="checkbox-item"><input type="checkbox" name="fonctions" value="Videos"> VidÃ©os</label>
        <label class="checkbox-item"><input type="checkbox" name="fonctions" value="Promotions"> Les promotions</label>
        <label class="checkbox-item"><input type="checkbox" name="fonctions" value="Accessoires"> Accessoires</label>
        <label class="checkbox-item"><input type="checkbox" name="fonctions" value="Contact"> Contactez-Nous</label>
        <label class="checkbox-item"><input type="checkbox" name="fonctions" value="Autre" onclick="toggleOther('other_func')"> Autre</label>
      </div>
      <input type="text" id="other_func" name="fonctions_autre" class="other-input" placeholder="Autres fonctionnalitÃ©s...">

      <label>Types de contenus Ã  publier :</label>
      <div class="grid-options">
        <label class="checkbox-item"><input type="checkbox" name="contenus" value="Articles"> Articles</label>
        <label class="checkbox-item"><input type="checkbox" name="contenus" value="Videos"> VidÃ©os</label>
        <label class="checkbox-item"><input type="checkbox" name="contenus" value="Images"> Images</label>
        <label class="checkbox-item"><input type="checkbox" name="contenus" value="Podcasts"> Podcasts</label>
        <label class="checkbox-item"><input type="checkbox" name="contenus" value="Telechargements"> Documents/Liens</label>
      </div>
    </div>

    <div class="section fade-in">
      <h3>ğŸ¨ Design & Couleurs</h3>
      <label>Avez-vous des exemples de sites apprÃ©ciÃ©s ?</label>
      <div class="grid-options">
        <label class="checkbox-item"><input type="radio" name="exemples_radio" value="NON"> NON</label>
        <label class="checkbox-item"><input type="radio" name="exemples_radio" value="OUI" onclick="toggleOther('other_design')"> OUI (prÃ©cisez ci-dessous)</label>
      </div>
      <textarea id="other_design" name="exemples" class="other-input" placeholder="Collez les liens ou dÃ©crivez le style..."></textarea>

      <label>Couleurs spÃ©cifiques Ã  respecter :</label>
      <div class="grid-options">
        <label class="checkbox-item"><input type="checkbox" name="devise" value="Bleue"> ğŸ”µ Bleue</label>
        <label class="checkbox-item"><input type="checkbox" name="devise" value="Verte"> ğŸŸ¢ Verte</label>
        <label class="checkbox-item"><input type="checkbox" name="devise" value="Jaune"> ğŸŸ¡ Jaune</label>
        <label class="checkbox-item"><input type="checkbox" name="devise" value="Orange"> ğŸŸ  Orange</label>
        <label class="checkbox-item"><input type="checkbox" name="devise" value="Rouge"> ğŸ”´ Rouge</label>
        <label class="checkbox-item"><input type="checkbox" name="devise" value="Marron"> ğŸŸ¤ Marron</label>
        <label class="checkbox-item"><input type="checkbox" name="devise" value="Blanc"> âšª Blanc</label>
        <label class="checkbox-item"><input type="checkbox" name="devise" value="Violet"> ğŸŸ£ Violet</label>
        <label class="checkbox-item"><input type="checkbox" name="devise" value="Autre" onclick="toggleOther('other_color')"> Autre (Charte graphique)</label>
      </div>
      <input type="text" id="other_color" name="devise_autre" class="other-input" placeholder="Lien charte ou codes couleurs...">
    </div>

    <div class="section fade-in">
      <h3>ğŸ’° Budget & DÃ©lais</h3>
      <div class="budget-container">
          <input type="number" name="budget_montant" placeholder="Montant">
          <select name="devise">
              <option value="TND">Dinar (TND)</option>
              <option value="FCFA">Franc CFA (XAF)</option>
              <option value="EUR">Euros (â‚¬)</option>
              <option value="USD">Dollars ($)</option>
          </select>
      </div>

      <label>DÃ©lai souhaitÃ© pour la livraison : *</label>
      <input type="date" name="livrables" required>

      <label>Votre adresse e-mail : *</label>
      <input type="email" name="email" required placeholder="Pour vous envoyer le rÃ©capitulatif">
    </div>

    <button type="submit" class="submit-btn fade-in">ğŸš€ Envoyer le cahier des charges</button>
  </form>
</div>

<div id="modal-overlay">
  <div class="modal">
    <h2>âœ… EnvoyÃ© avec succÃ¨s !</h2>
    <p>L'Ã©quipe <strong>STONY.TECHNOLOGIE</strong> a bien reÃ§u votre demande.</p>
    <button onclick="closeModal()">Fermer</button>
  </div>
</div>

<footer>
  <p>ğŸ“ Tunis, Tunisie | ğŸ“ Libreville, Gabon</p>
  <p>ğŸ“ +216 54 743 233 / +241 062 135 598</p>
  <p>ğŸ“§ stonytechnologie@gmail.com</p>
  <p>Besoin d'aide ? <a href="#" onclick="openWhatsApp()" class="doc-link">Contactez-nous sur WhatsApp</a></p>
  <p><strong>STONY.TECHNOLOGIE</strong> - RapiditÃ© â€¢ FiabilitÃ© â€¢ Professionnalisme</p>
</footer>

<script>
// Scripts originaux prÃ©servÃ©s intÃ©gralement
function openWhatsApp() {
  const nomClient = document.getElementById('nom').value || "Client";
  const message = `Bonjour STONY.TECHNOLOGIE, Je suis ${nomClient}. Je souhaite avoir votre accompagnement pour le remplissage du cahier des charges s'il vous plaÃ®t.`;
  const url = `https://wa.me/21654743233?text=${encodeURIComponent(message)}`;
  window.open(url, '_blank');
}

  function toggleTheme() {
    const body = document.body;
    const icon = document.getElementById('theme-icon');
    const text = document.getElementById('theme-text');
    
    body.classList.toggle('light-mode');
    
    if(body.classList.contains('light-mode')) {
      icon.innerText = 'ğŸŒ™';
      text.innerText = 'Mode Nuit';
    } else {
      icon.innerText = 'â˜€ï¸';
      text.innerText = 'Mode Jour';
    }
  }

  const bg = document.getElementById('bgAnim');
  const codeSnippets = ['<div>', 'const app = express()', 'if (isReady)', 'background: #00bcd4', 'npm install', '{ ...props }', '</body>', 'git commit -m', 'function init()', '</>', 'CSS', 'JS', 'React', 'STONY.TECH'];

  function createCodeLine() {
    const line = document.createElement('div');
    line.className = 'code-line';
    line.innerText = codeSnippets[Math.floor(Math.random() * codeSnippets.length)];
    line.style.top = Math.random() * 100 + 'vh';
    line.style.animationDuration = (Math.random() * 10 + 10) + 's';
    line.style.fontSize = (Math.random() * 10 + 15) + 'px';
    bg.appendChild(line);
    setTimeout(() => line.remove(), 20000);
  }

  setInterval(createCodeLine, 800);

  const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => { if (entry.isIntersecting) entry.target.classList.add('visible'); });
  }, { threshold: 0.1 });
  document.querySelectorAll('.fade-in').forEach(el => observer.observe(el));

  function toggleOther(id) {
    const el = document.getElementById(id);
    el.style.display = 'block';
    el.focus();
  }

  const form = document.getElementById('cdchForm');
  const progressBar = document.getElementById('progress-bar');
  const inputs = form.querySelectorAll('input[required], textarea[required]');

  function updateProgress() {
    let filled = 0;
    inputs.forEach(input => {
      if (input.type === 'radio') {
        if (form.querySelector(`input[name="${input.name}"]:checked`)) filled++;
      } else if (input.value.trim() !== "") filled++;
    });
    progressBar.style.width = (filled / inputs.length) * 100 + "%";
  }

  form.addEventListener('input', updateProgress);
  form.addEventListener('change', updateProgress);

  form.onsubmit = function(e) {
    setTimeout(() => {
      document.getElementById('modal-overlay').style.display = 'flex';
      form.reset();
      updateProgress();
    }, 500);
  };
  function closeModal() { document.getElementById('modal-overlay').style.display = 'none'; }
</script>

</body>
</html>
